(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},241:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var i=s(7096),a=s(6132),l=s(7284),n=s.n(l),r=s(2564),o={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>r[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1292)),"C:\\yeti\\src\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,427)),"C:\\yeti\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\yeti\\src\\app\\page.tsx"],m="/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1591:(e,t,s)=>{Promise.resolve().then(s.bind(s,5829)),Promise.resolve().then(s.bind(s,1948))},5829:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var i=s(784),a=s(9885),l=s(4952);s(2483);var n=s(7724),r=s(7757),o=s(8949),c=s(3771),d=s(7065);let m={title:"",firstName:"",lastName:"",patronym:"",phone:"",comment:"",code:""},p=(0,r.observer)(()=>{let{itemIdToChange:e,setItemIdToChange:t}=o.default,resetForm=()=>{t(null)};return i.jsx(l.J9,{initialValues:m,onSubmit:t=>{e?n.default.changeApplication(t):n.default.addNewApplication(t),resetForm()},children:t=>((0,a.useEffect)(()=>{if(e){let s=n.default.list.find(t=>t.id===e);if(s){let e=s.userData;t.setValues(e)}}else t.setValues(m)},[e]),(0,i.jsxs)(l.l0,{className:"application-form",children:[(0,i.jsxs)("div",{className:"application-form__field",children:[i.jsx("label",{htmlFor:"title",children:"Наименование компании"}),i.jsx(l.gN,{type:"text",id:"title",name:"title",required:!0}),i.jsx(l.Bc,{name:"title",component:"div"})]}),(0,i.jsxs)("div",{className:"application-form__field-wrap",children:[(0,i.jsxs)("div",{className:"application-form__field",children:[i.jsx("label",{htmlFor:"lastName",children:"Фамилия"}),i.jsx(l.gN,{value:t.values.lastName,type:"text",id:"lastName",name:"lastName",required:!0}),i.jsx(l.Bc,{name:"lastName",component:"div"})]}),(0,i.jsxs)("div",{className:"application-form__field",children:[i.jsx("label",{htmlFor:"firstName",children:"Имя"}),i.jsx(l.gN,{value:t.values.firstName,type:"text",id:"firstName",name:"firstName",required:!0}),i.jsx(l.Bc,{name:"firstName",component:"div"})]}),(0,i.jsxs)("div",{className:"application-form__field",children:[i.jsx("label",{htmlFor:"patronym",children:"Отчество"}),i.jsx(l.gN,{value:t.values.patronym,type:"text",id:"patronym",name:"patronym"}),i.jsx(l.Bc,{name:"patronym",component:"div"})]})]}),(0,i.jsxs)("div",{className:"application-form__field",children:[i.jsx("label",{htmlFor:"phone",children:"Телефон"}),i.jsx(l.gN,{value:t.values.phone,type:"tel",id:"phone",name:"phone",required:!0}),i.jsx(l.Bc,{name:"phone",component:"div"})]}),(0,i.jsxs)("div",{className:"application-form__field",children:[i.jsx("label",{htmlFor:"code",children:"Ати-код"}),i.jsx(l.gN,{value:t.values.code,type:"text",id:"code",name:"code",required:!0}),i.jsx(l.Bc,{name:"code",component:"div"})]}),(0,i.jsxs)("div",{className:"application-form__field",children:[i.jsx("label",{htmlFor:"comment",children:"Комментарий"}),i.jsx(l.gN,{value:t.values.comment,as:"textarea",id:"comment",name:"comment"})]}),(0,i.jsxs)("div",{className:"application-form__buttons",children:[i.jsx(c.z,{view:"outlined-success",size:"l",type:"submit",children:e?"Изменить":"Добавить"}),e&&i.jsx(c.z,{view:"outlined-danger",size:"l",className:"application-form__reset",onClick:resetForm,type:"button",children:i.jsx(d.Z,{})})]})]}))})}),u=(0,r.observer)(e=>{let{isAdminMode:t}=o.default;return t?i.jsx(p,{...e}):null})},1948:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var i=s(784),a=s(7724),l=s(7757);s(4758);var n=s(9885),r=s(4641),o=s.n(r);s(3468);let status_Status=({value:e})=>{let t=o()("application-status",e);return i.jsx("span",{className:t,children:{new:"Новая",inProgress:"В процессе",completed:"Завершенная"}[e]})},date_Date=({values:e})=>{let{day:t,month:s,year:a}=e,dateToString=e=>{let t=e+".";return t.length<3?"0"+t:t};return(0,i.jsxs)("span",{children:[dateToString(t),dateToString(s),a]})};var c=s(1678),d=s(4812),m=s(8949),p=s(3771),u=s(8420),x=s(2357),h=s(3959);s(5590);let _=(0,l.observer)(e=>{let[t,s]=(0,n.useState)(!1),{removeApplication:l}=a.default,{isAdminMode:r,setItemIdToChange:o}=m.default,_=(0,n.useRef)(null);return(0,i.jsxs)("div",{className:"details",children:[(0,i.jsxs)("div",{className:"details-desktop",children:[(0,i.jsxs)("button",{className:"item-details__btn",onClick:()=>e.toggleValue(!e.value),children:[i.jsx("span",{className:"item-details__text",children:"Подробнее"}),i.jsx(u.Z,{className:"item-details__mobile"})]}),r&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(p.z,{view:"outlined",size:"s",onClick:()=>o(e.id),type:"button",children:i.jsx(c.Z,{})}),i.jsx(p.z,{view:"outlined-danger",size:"s",type:"button",onClick:()=>l(e.id),children:i.jsx(d.Z,{})})]})]}),i.jsx("button",{className:"details-mobile",ref:_,onClick:()=>{s(!t)},children:i.jsx(u.Z,{})}),i.jsx(x.G,{className:"details-mobile__popup",anchorRef:_,open:t,onOutsideClick:()=>s(!1),children:(0,i.jsxs)(h.v,{children:[i.jsx(h.v.Item,{className:"details-mobile__popup-btn ",onClick:()=>e.toggleValue(!e.value),children:"Подробно"}),r&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(h.v.Item,{className:"details-mobile__popup-btn",onClick:()=>o(e.id),children:"Редактировать"}),i.jsx(h.v.Item,{theme:"danger",className:"details-mobile__popup-btn details-mobile__popup-delete",onClick:()=>l(e.id),children:"Удалить"})]})]})})]})}),listItem_ListItem=({application:e})=>{let[t,s]=(0,n.useState)(!1),a=o()("application-list__item",t?"opened":""),l=`https://ati.su/firms/${e.userData.code}/info`;return(0,i.jsxs)("div",{className:a,children:[(0,i.jsxs)("div",{className:"application-list__item-data",children:[i.jsx("h3",{className:"application-list__item-section",children:e.userData.title}),(0,i.jsxs)("div",{className:"application-list__item-section item-name",children:[(0,i.jsxs)("span",{children:[e.userData.firstName," "]}),(0,i.jsxs)("span",{children:[e.userData.lastName," "]}),(0,i.jsxs)("span",{children:[e.userData.patronym," "]})]}),i.jsx("div",{className:"application-list__item-section item-date",children:i.jsx(date_Date,{values:e.date})}),i.jsx("div",{className:"application-list__item-section item-status",children:i.jsx(status_Status,{value:e.status})}),i.jsx("div",{className:"application-list__item-section item-details",children:i.jsx(_,{id:e.id,value:t,toggleValue:e=>{s(e)}})})]}),(0,i.jsxs)("div",{className:"application-list__additional",children:[(0,i.jsxs)("div",{className:"application-list__item-section mobile-name",children:[i.jsx("div",{className:"application-list__additional-title",children:"Ф.И.О. заказчика"}),(0,i.jsxs)("p",{children:[e.userData.firstName+" ",e.userData.lastName+" ",e.userData.patronym+" "]})]}),(0,i.jsxs)("div",{className:"application-list__item-section",children:[i.jsx("div",{className:"application-list__additional-title",children:"Телефон"}),i.jsx("a",{href:`tel:${e.userData.phone}`,children:e.userData.phone})]}),(0,i.jsxs)("div",{className:"application-list__item-section item-code",children:[i.jsx("div",{className:"application-list__additional-title",children:"ATI"}),i.jsx("a",{href:l,children:l})]}),(0,i.jsxs)("div",{className:"application-list__item-section item-comment",children:[i.jsx("div",{className:"application-list__additional-title",children:"Комментарий"}),i.jsx("p",{children:e.userData.comment||"..."})]})]})]})},j=(0,l.observer)(()=>{let e=a.default.list;return e.length<=0?i.jsx("p",{className:"application-list__zero",children:"Пока нет заявок"}):(0,i.jsxs)("div",{className:"application-list",children:[i.jsx("div",{className:"application-list__head",children:(0,i.jsxs)("div",{className:"application-list__item-data",children:[i.jsx("div",{className:"application-list__item-section",children:"Название компании"}),i.jsx("div",{className:"application-list__item-section item-name",children:"Ф.И.О"}),i.jsx("div",{className:"application-list__item-section item-date",children:"Дата"}),i.jsx("div",{className:"application-list__item-section item-status",children:"Статус"}),i.jsx("div",{className:"application-list__item-section item-details",children:(0,i.jsxs)("p",{children:["Кол-во: ",e.length]})})]})}),e.map(e=>i.jsx(listItem_ListItem,{application:e},"list-item"+e.id))]})}),v=j},7724:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var i=s(3417),a=s(311);function getDate(){let e=new Date,t=e.getDate(),s=e.getMonth()+1,i=e.getFullYear();return{day:t,month:s,year:i}}var l=s(8949);let n=new class{constructor(){this.list=[{id:"1",userData:{title:"Мувит Мувит",firstName:"Василий",lastName:"Иванов",patronym:"Михайлович",phone:"89021111111",code:"12345"},date:{day:20,month:12,year:2022},status:"completed"},{id:"2",userData:{title:"Том Груз",firstName:"Иван",lastName:"Виноградов",patronym:"Васильевич",phone:"89021111111",code:"12345"},date:{day:10,month:20,year:2022},status:"completed"},{id:"3",userData:{title:"Expert Logistics",firstName:"Владислав",lastName:"Филиппов",patronym:"Михайлович",phone:"89021111111",code:"12345"},date:{day:4,month:5,year:2024},status:"new"}],this.addNewApplication=e=>{let t={userData:e,date:getDate(),status:"new",id:(0,a.Z)()};this.list.unshift(t)},this.changeApplication=e=>{let t=l.default.itemIdToChange,s=this.list.find(e=>e.id===t);s&&(s.id=(0,a.Z)(),s.userData=e,s.status="inProgress",s.date=getDate())},this.removeApplication=e=>{this.list=this.list.filter(t=>t.id!=e)},(0,i.makeAutoObservable)(this)}}},1292:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Home});var i=s(4656),a=s(5153);let l=(0,a.createProxy)(String.raw`C:\yeti\src\app\components\form\ApplicationForm.tsx`),{__esModule:n,$$typeof:r}=l,o=l.default,c=(0,a.createProxy)(String.raw`C:\yeti\src\app\components\list\ApplicationList.tsx`),{__esModule:d,$$typeof:m}=c,p=c.default;function Home(){return i.jsx("main",{className:"application",children:(0,i.jsxs)("div",{className:"container",children:[i.jsx(o,{}),i.jsx(p,{})]})})}s(6900),s(5992)},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var i=s(8531);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,i.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"100x100",url:t+""}]}},2483:()=>{},4758:()=>{},5590:()=>{},3468:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[923,655,701],()=>__webpack_exec__(241));module.exports=s})();